<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Help me button</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <style>
        body {
            padding-top: 1rem;
        }

        .starter-template {
            padding: 3rem 1.5rem;
            text-align: center;
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
        <a class="navbar-brand" href="#">Alpha version</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault"
            aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
    </nav>

    <main role="main" class="container mt-5 starter-template">

        <h1>Help Me Button</h1>
        <p class="lead">Use this page as a way to quickly start any your issue.</p>

        <!-- Button trigger for collapsible form -->
        <button class="btn btn-info mb-3" type="button" data-toggle="collapse" data-target="#inputForm"
            aria-expanded="true" aria-controls="inputForm">
            🔽 Settings
        </button>

        <!-- Collapsible form -->
        <div class="collapse" id="inputForm">
            <div class="card card-body">
                <div class="form-group">
                    <label for="userNameInput">User name</label>
                    <input type="text" class="form-control" id="userNameInput" placeholder="Enter Username">
                </div>
                <div class="form-group">
                    <label for="userEmailInput">Email address</label>
                    <input type="email" class="form-control" id="userEmailInput" placeholder="Enter Email">
                </div>
                <div class="form-group">
                    <label for="postUrlInput">Post url</label>
                    <input type="postUrl" class="form-control" id="postUrlInput" placeholder="https://xxx.xxx.xxx">
                </div>
                <button class="btn btn-primary" onclick="saveUserDetails()">Save</button>
            </div>
        </div>
        <!-- Multi-line text input field -->
        <div class="form-group">
            <label for="userMessage">Message</label>
            <textarea class="form-control" id="userMessage" rows="3" placeholder="Enter your message here"></textarea>
        </div>
        <!-- Send button -->
        <button class="btn btn-success" onclick="sendMessage()">Help Me</button>

    </main><!-- /.container -->

    <!-- Bootstrap JS, Popper.js, and jQuery -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
        integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>

    <script>
        function saveUserDetails() {
            var userName = document.getElementById('userNameInput').value;
            var userEmail = document.getElementById('userEmailInput').value;
            var postUrl = document.getElementById('postUrlInput').value;

            localStorage.setItem('UserName', userName);
            localStorage.setItem('UserEmail', userEmail);
            localStorage.setItem('postUrl', postUrl);

            console.log('saved:', userName, userEmail, postUrl);
        }
        // ページ読み込み時に実行
        document.addEventListener('DOMContentLoaded', function () {
            // localStorageから値を取得して入力欄に設定
            document.getElementById('userNameInput').value = localStorage.getItem('UserName') || '';
            document.getElementById('userEmailInput').value = localStorage.getItem('UserEmail') || '';
            document.getElementById('postUrlInput').value = localStorage.getItem('postUrl') || '';
        });
        // Function to handle "Send" button click
        function sendMessage() {
            var userName = document.getElementById('userNameInput').value;
            var userEmail = document.getElementById('userEmailInput').value;
            var postUrl = document.getElementById('postUrlInput').value;
            var userMessage = document.getElementById('userMessage').value;

            // TODO: Implement the sending logic here. For now, just log the message to the console
            console.log('Message sent:', userMessage);
            alert('Message sent');
        }
    </script>

</body>

</html>